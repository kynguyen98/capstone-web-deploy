version: '3'
services:
        postgres:
                image: postgres:13.1-alpine
                environment:
                        POSTGRES_USER: john
                        POSTGRES_PASSWORD: 123
                        POSTGRES_DB: parking
                restart: always
                container_name: db
        apache:
                build: ./Apache
                image: apache:1.0
                volumes:
                        - ./Apache/Capstone_16ES:/usr/local/apache2/htdocs/capstone
                        - ./Apache/my-httpd.conf:/usr/local/apache2/conf/httpd.conf
                        - ./Apache/capstone.conf:/usr/local/apache2/conf/extra/httpd-vhosts.conf
                command: httpd -D FOREGROUND
                container_name: web
                ports:
                        - "8080:80"
networks:
        default:
                external:
                        name: app
